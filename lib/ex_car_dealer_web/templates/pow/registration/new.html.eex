<section class="section">
    <div class="container">
      <h1 class="title">Register</h1>
      <h2 class="subtitle">

        <%= form_for @changeset, @action, [as: :user], fn f -> %>
          <%= if @changeset.action do %>
        <div class="alert alert-danger">
          <p>Oops, something went wrong! Please check the errors below.</p>
        </div>
          <% end %>


  <div class="field">
  <%= label f, Pow.Ecto.Schema.user_id_field(@changeset),[class: "label"] %>
  <div class="control has-icons-left has-icons-right">
    <%= text_input f, Pow.Ecto.Schema.user_id_field(@changeset), [class: "input", placeholder: "Email"] %>
    <span class="icon is-small is-left">
      <i class="fas fa-envelope"></i>
    </span>
    <span class="icon is-small is-right">
      <i class="fas fa-exclamation-triangle"></i>
    </span>
  </div>
  <%= error_tag f, Pow.Ecto.Schema.user_id_field(@changeset)%>
</div>

<div class="field">
  <%= label f, :password,[class: "label"] %>
  <div class="control has-icons-left has-icons-right">
    <%= password_input f, :password, [class: "input", placeholder: "Password"] %>
    <span class="icon is-small is-left">
      <i class="fas fa-envelope"></i>
    </span>
    <span class="icon is-small is-right">
      <i class="fas fa-exclamation-triangle"></i>
    </span>
  </div>
  <%= error_tag f, :password %>
</div>

<div class="field">
  <%= label f, :password_confirmation, [class: "label"] %>
  <div class="control has-icons-left has-icons-right">
    <%= password_input f, :password_confirmation, [class: "input", placeholder: "Password confirmation"] %>
    <span class="icon is-small is-left">
      <i class="fas fa-envelope"></i>
    </span>
    <span class="icon is-small is-right">
      <i class="fas fa-exclamation-triangle"></i>
    </span>
  </div>
  <%= error_tag f, :password_confirmation %>
</div>

  <div>
    <%= submit "Register", [class: "button is-success", style: "margin-bottom: 30px"] %>
  </div>
<% end %>


<span>If you have an account: <%= link "sign in", to: Routes.pow_session_path(@conn, :new) %></span>
      </h2>
    </div>
  </section>
